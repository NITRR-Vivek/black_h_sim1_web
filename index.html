<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Realistic Black Hole Simulation</title>
    <link rel="stylesheet" href="css/style.css">
    <script type="importmap">
      {
        "imports": {
          "three": "./node_modules/three/build/three.module.js"
        }
      }
    </script>
</head>
<body>
    <div id="ui-container">
        <!-- Interactive Alert Overlay -->
        <div id="alert-overlay">WARNING: EXTREME GRAVITY</div>

        <!-- Info Button -->
        <button id="info-btn">i</button>
        
        <!-- Theory Button -->
        <button id="theory-btn">?</button>

        <!-- Info Modal -->
        <div id="info-modal">
            <div class="modal-content">
                <h2>Mission Briefing: Black Hole Explorer</h2>
                <p>Welcome, Pilot! You are commanding a <strong>Warp-Drive Spaceship</strong>.</p>
                <p>A Black Hole is a region of space where gravity is so strong that nothing, not even light, can escape!</p>
                
                <h3>Flight Controls:</h3>
                <ul>
                    <li><strong>W A S D</strong>: Thrusters & Steering.</li>
                    <li><strong>Space / Shift</strong>: Ascend / Descend.</li>
                    <li><strong>Mouse</strong>: Aim Ship.</li>
                    <li><strong>ESC</strong>: Release Cursor / Pause.</li>
                    <li><strong>1, 2, 3</strong>: Warp Teleport (Orbit, Disk, Jets).</li>
                </ul>
                
                <h3>Mission Targets:</h3>
                <ul>
                    <li><strong>Event Horizon</strong>: The point of no return.</li>
                    <li><strong>Accretion Disk</strong>: Superheated matter spiraling in.</li>
                    <li><strong>Singularity</strong>: The center where physics breaks down.</li>
                </ul>
                <button id="close-modal">INITIATE LAUNCH SEQUENCE</button>
            </div>
        </div>

        <div id="stats-panel">
            <h2>Physics Status</h2>
            <div class="stat-row"><span>Distance to Singularity:</span> <span id="dist-val">--</span> km</div>
            <div class="stat-row"><span>Time Dilation (factor):</span> <span id="time-val">1.00</span>x</div>
            <div class="stat-row"><span>Gravity (g):</span> <span id="grav-val">--</span> g</div>
            <div class="stat-row" id="warning-row">Status: <span id="status-val">Safe</span></div>
        </div>

        <!-- Theory Modal -->
        <div id="theory-modal">
            <div class="modal-content">
                <h2>Black Hole Physics & Equations</h2>
                
                <div class="theory-section">
                    <h3>1. Schwarzschild Radius (Event Horizon)</h3>
                    <p>The radius of no return.</p>
                    <div class="equation">Rs = 2GM / c²</div>
                    <p>Where <em>G</em> is gravity constant, <em>M</em> is mass, <em>c</em> is speed of light.</p>
                </div>

                <div class="theory-section">
                    <h3>2. Time Dilation</h3>
                    <p>Time slows down near the black hole.</p>
                    <div class="equation">t' = t / √(1 - Rs/r)</div>
                    <p>At <em>r = Rs</em>, time stops relative to outside observer.</p>
                </div>

                <div class="theory-section">
                    <h3>3. Gravitational Lensing</h3>
                    <p>Light bends around massive objects, creating rings and distortions (Einstein Ring).</p>
                </div>
                
                <button id="close-theory">Close Data Log</button>
            </div>
        </div>
        
        <div id="controls-panel">
            <h2>Controls</h2>
            <div class="control-group">
                <label for="mass-slider">Black Hole Mass (Solar Masses)</label>
                <input type="range" id="mass-slider" min="1" max="50" step="0.1" value="10">
                <span id="mass-val">10</span> M☉
            </div>
            <div class="control-group">
                <button id="view-toggle">Switch View (1st Person)</button>
            </div>
            <div class="instructions">
                <p>Press 'i' for Help | Keys 1-3 to Teleport</p>
            </div>
        </div>
    </div>
    
    <div id="canvas-container"></div>

    <script type="module" src="/js/main.js"></script>
</body>
</html>
